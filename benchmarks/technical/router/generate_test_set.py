"""Generate labeled Cynefin router benchmark test set.

Produces 500+ hand-crafted queries across all 5 domains in JSONL format.
Each query is labeled with ground-truth domain and industry context.

Usage:
    python benchmarks/technical/router/generate_test_set.py
    python benchmarks/technical/router/generate_test_set.py --output custom_path.jsonl
"""

from __future__ import annotations

import argparse
import json
from pathlib import Path

# ── Clear domain: factual, deterministic, lookup ─────────────────────────

CLEAR_QUERIES = [
    # General / math
    ("What is 2+2?", "general"),
    ("Convert 100 USD to EUR at rate 0.92", "finance"),
    ("What is the boiling point of water in Celsius?", "general"),
    ("Look up the current exchange rate for GBP to USD", "finance"),
    ("What day of the week is January 1, 2026?", "general"),
    ("Calculate 15% tip on a $85 bill", "general"),
    ("What is the square root of 144?", "general"),
    ("Convert 5 miles to kilometers", "general"),
    ("What is the ISO country code for Germany?", "general"),
    ("How many days are in February 2024?", "general"),
    # Business lookups
    ("Look up customer ID 12345 in the database", "operations"),
    ("Get current stock price for AAPL", "finance"),
    ("Retrieve order status for order #789", "operations"),
    ("What is our current inventory level for SKU-100?", "supply_chain"),
    ("Show the last 5 transactions for account 9876", "finance"),
    ("What is the current server CPU utilization?", "technology"),
    ("List all employees in the marketing department", "hr"),
    ("What is the shipping cost for a 5kg package to France?", "logistics"),
    ("Show the current balance for account 456", "finance"),
    ("What are our business hours on weekends?", "operations"),
    # Healthcare lookups
    ("What is the standard dosage of ibuprofen for adults?", "healthcare"),
    ("Look up the ICD-10 code for type 2 diabetes", "healthcare"),
    ("What is the normal range for blood pressure?", "healthcare"),
    ("Find patient record for MRN 112233", "healthcare"),
    ("What vaccines are required for travel to Brazil?", "healthcare"),
    # Energy / science
    ("What is the energy output of a 100kW solar panel in 1 hour?", "energy"),
    ("Convert 500 BTU to kilowatt-hours", "energy"),
    ("What is the current grid frequency standard in Europe?", "energy"),
    ("Look up the melting point of steel", "manufacturing"),
    ("What is the chemical formula for methane?", "general"),
    # Technology
    ("What is the default port for PostgreSQL?", "technology"),
    ("What version of Python are we running in production?", "technology"),
    ("What is the API rate limit for our Stripe account?", "technology"),
    ("Show the current DNS records for example.com", "technology"),
    ("What is the maximum file upload size?", "technology"),
    # Compliance / regulatory
    ("What is the GDPR data retention period for marketing data?", "compliance"),
    ("What is the minimum capital requirement for Basel III?", "finance"),
    ("What is the current EU ETS carbon price per tonne?", "sustainability"),
    ("What tax rate applies to income over $100,000 in California?", "finance"),
    ("What is the statutory notice period for employee termination in the UK?", "hr"),
    # Additional variety
    ("Check the weather forecast for London today", "general"),
    ("What time does the stock market close in New York?", "finance"),
    ("Show the latest backup status for the production database", "technology"),
    ("What is the distance from New York to London?", "general"),
    ("List the ingredients in our best-selling product", "manufacturing"),
    ("What is our current SLA uptime percentage?", "technology"),
    ("Show the current queue length for support tickets", "operations"),
    ("What was our total revenue last quarter?", "finance"),
    ("What is the current price of crude oil per barrel?", "energy"),
    ("How many units did we ship last month?", "supply_chain"),
    # 50 more clear queries
    ("What is the VAT rate in Germany?", "finance"),
    ("Look up the flight status for BA123", "operations"),
    ("What is the Wi-Fi password for the guest network?", "technology"),
    ("Check if the SSL certificate for api.example.com is valid", "technology"),
    ("What is the formula for calculating compound interest?", "finance"),
    ("Show the latest quarterly earnings for MSFT", "finance"),
    ("What is the atomic number of carbon?", "general"),
    ("Look up the tracking number for shipment SH-456", "logistics"),
    ("What is the recommended tire pressure for a Toyota Camry?", "general"),
    ("Convert 20 degrees Celsius to Fahrenheit", "general"),
    ("What is the population of Tokyo?", "general"),
    ("Get the current humidity reading from sensor #7", "manufacturing"),
    ("What is the maximum occupancy for conference room B?", "operations"),
    ("Show the current pipeline throughput in barrels per hour", "energy"),
    ("What is the density of aluminum?", "manufacturing"),
    ("How many calories are in 100g of chicken breast?", "healthcare"),
    ("What is the standard deviation of our last 30 daily returns?", "finance"),
    ("Check if user admin@company.com has MFA enabled", "technology"),
    ("What is the current disk space usage on server prod-01?", "technology"),
    ("How many parking spots are available in lot C?", "operations"),
    ("What is the pH of pure water?", "general"),
    ("Look up the warranty status for device SN-789", "operations"),
    ("What is the minimum order quantity for supplier XYZ?", "supply_chain"),
    ("Check the status of Jenkins build #1234", "technology"),
    ("What is the speed of light in meters per second?", "general"),
    ("Show the current fuel level in tank #3", "energy"),
    ("What is the current headcount for the engineering team?", "hr"),
    ("Check the expiry date for SSL cert on portal.example.com", "technology"),
    ("What is the Unicode value of the letter A?", "technology"),
    ("How many items are currently in the return queue?", "operations"),
    ("What is our current NPS score?", "operations"),
    ("Show the latest audit log entries for user john.doe", "compliance"),
    ("What is the freezing point of ethanol?", "general"),
    ("Look up the routing number for Bank of America", "finance"),
    ("How much RAM is installed on server db-primary?", "technology"),
    ("What is the maximum payload for our REST API?", "technology"),
    ("Show the current reactor temperature in zone 4", "manufacturing"),
    ("What are the opening hours for our Tokyo office?", "operations"),
    ("What is the spot price of gold per ounce?", "finance"),
    ("How many active user sessions are there right now?", "technology"),
    ("What color is our corporate logo?", "general"),
    ("Check the battery level of IoT device 0x4F2A", "technology"),
    ("What is the annual depreciation rate for IT equipment?", "finance"),
    ("Show the number of open pull requests in the main repo", "technology"),
    ("What is the pH of our wastewater discharge?", "sustainability"),
    ("How many support agents are currently online?", "operations"),
    ("What is the reorder point for product SKU-200?", "supply_chain"),
    ("Show the latest code coverage report percentage", "technology"),
    ("What was the closing price of TSLA yesterday?", "finance"),
    ("How many containers are running in the production cluster?", "technology"),
    ("What is the molecular weight of aspirin?", "healthcare"),
]

# ── Complicated domain: causal, analytical, expert analysis ──────────────

COMPLICATED_QUERIES = [
    # Causal analysis
    ("What is the causal effect of marketing spend on customer acquisition?", "finance"),
    ("Why did our costs increase by 15% last quarter?", "finance"),
    ("What caused the database query slowdown last week?", "technology"),
    ("Analyze the root cause of the production error rate spike", "technology"),
    ("What factors are driving customer churn in the premium segment?", "finance"),
    ("Determine the impact of the new pricing strategy on revenue", "finance"),
    ("What is the causal relationship between employee training hours and productivity?", "hr"),
    ("Analyze why conversion rates dropped after the UI redesign", "technology"),
    ("What caused the increase in supply chain lead times?", "supply_chain"),
    ("Determine the effect of temperature on manufacturing defect rates", "manufacturing"),
    # Expert analysis
    ("Optimize the logistics network to reduce delivery times by 20%", "supply_chain"),
    ("What is the optimal inventory level given seasonal demand patterns?", "supply_chain"),
    ("Analyze the impact of interest rate changes on our loan portfolio", "finance"),
    ("Determine the best treatment protocol based on patient demographics", "healthcare"),
    ("What is the effect of renewable energy subsidies on adoption rates?", "energy"),
    ("Analyze the root cause of the elevated bounce rate on our landing page", "technology"),
    ("What explains the difference in outcomes between treatment group A and B?", "healthcare"),
    ("Determine the optimal pricing for our new SaaS tier", "technology"),
    ("Why are our Scope 3 emissions increasing despite supplier programs?", "sustainability"),
    ("What is the effect of discount offers on customer lifetime value?", "finance"),
    # Statistical / diagnostic
    ("Perform a regression analysis of sales against advertising spend", "finance"),
    ("What variables best predict employee attrition?", "hr"),
    ("Analyze the correlation between weather patterns and retail sales", "retail"),
    ("What is the attributable risk of smoking on lung cancer incidence?", "healthcare"),
    ("Determine the optimal A/B test duration given current sample sizes", "technology"),
    ("What is the marginal effect of an additional sales representative?", "finance"),
    ("Analyze the impact of work-from-home policy on team productivity", "hr"),
    ("What is the dose-response relationship for this medication?", "healthcare"),
    ("Determine the break-even point for our new product line", "finance"),
    ("What is the optimal batch size for our machine learning training pipeline?", "technology"),
    # Industry-specific
    ("What is the causal effect of supplier diversification on supply chain resilience?", "supply_chain"),
    ("Analyze the impact of carbon tax on our manufacturing costs", "sustainability"),
    ("What drives readmission rates in our cardiac surgery department?", "healthcare"),
    ("Determine the effect of grid modernization on outage frequency", "energy"),
    ("What explains the variance in loan default rates across regions?", "finance"),
    ("Analyze why certain product categories have higher return rates", "retail"),
    ("What is the effect of automation on labor costs per unit?", "manufacturing"),
    ("Determine the causal impact of ESG reporting on investor sentiment", "finance"),
    ("What factors explain the variation in student test scores?", "education"),
    ("Analyze the impact of telemedicine on patient outcomes", "healthcare"),
    # Additional variety
    ("What is the effect of remote work on commercial real estate occupancy?", "finance"),
    ("Analyze the causal chain from raw material prices to product margins", "manufacturing"),
    ("Why is our customer satisfaction declining despite increased investment?", "operations"),
    ("Determine the optimal staffing levels for the holiday season", "retail"),
    ("What explains the geographic disparity in insurance claims?", "finance"),
    ("Analyze the impact of new regulations on compliance costs", "compliance"),
    ("What caused the spike in error rates after the last deployment?", "technology"),
    ("Determine the effect of loyalty programs on repeat purchase rates", "retail"),
    ("What is the causal effect of air quality on respiratory admissions?", "healthcare"),
    ("Analyze why certain suppliers consistently deliver late", "supply_chain"),
    # 100 more for 150+ total
    ("What is the effect of page load time on conversion rate?", "technology"),
    ("Analyze the impact of oil prices on airline profitability", "finance"),
    ("What factors contribute to equipment failure in factory line 3?", "manufacturing"),
    ("Determine the effect of class size on student learning outcomes", "education"),
    ("What explains differences in mortality rates across hospital wards?", "healthcare"),
    ("Analyze the impact of trade tariffs on export volumes", "finance"),
    ("What is the causal effect of vaccination campaigns on disease incidence?", "healthcare"),
    ("Determine why customer complaints increased in Q3", "operations"),
    ("What drives differences in credit scores across demographic groups?", "finance"),
    ("Analyze the impact of urbanization on water consumption per capita", "sustainability"),
    ("What is the effect of minimum wage increases on employment levels?", "finance"),
    ("Determine the root cause of elevated NOx emissions in plant B", "sustainability"),
    ("Why do some branches consistently outperform others in loan origination?", "finance"),
    ("Analyze the impact of packaging redesign on shelf appeal and sales", "retail"),
    ("What is the causal pathway from social media engagement to sales?", "retail"),
    ("Determine why certain customer segments have higher support costs", "operations"),
    ("What explains the seasonal pattern in our energy consumption?", "energy"),
    ("Analyze the effect of price elasticity across different markets", "finance"),
    ("What caused the decline in organ donor registration rates?", "healthcare"),
    ("Determine the impact of mentor programs on employee retention", "hr"),
    ("Analyze the causal effect of deforestation on local precipitation", "sustainability"),
    ("What drives variation in project completion times?", "operations"),
    ("What is the effect of warehouse layout on picking efficiency?", "supply_chain"),
    ("Analyze why server response times degrade under moderate load", "technology"),
    ("Determine the causal impact of school lunch programs on attendance", "education"),
    ("What factors explain the disparity in broadband adoption rates?", "technology"),
    ("Analyze the effect of noise levels on worker productivity", "manufacturing"),
    ("What is the causal relationship between rainfall and crop yield?", "sustainability"),
    ("Determine why patient wait times vary across clinics", "healthcare"),
    ("Analyze the impact of fleet electrification on total cost of ownership", "logistics"),
    ("What explains the variance in insurance premium pricing?", "finance"),
    ("Determine the effect of store location on foot traffic", "retail"),
    ("Why do treatment adherence rates differ by age group?", "healthcare"),
    ("Analyze the causal impact of R&D spending on patent filings", "technology"),
    ("What factors drive variation in manufacturing cycle times?", "manufacturing"),
    ("Determine the effect of green building certification on property values", "finance"),
    ("What caused the recent uptick in fraud attempts?", "finance"),
    ("Analyze the impact of supplier lead time on inventory holding costs", "supply_chain"),
    ("What is the effect of commute distance on employee satisfaction?", "hr"),
    ("Determine why some marketing channels have higher CAC than others", "finance"),
    ("Analyze the causal relationship between sleep duration and test performance", "healthcare"),
    ("What drives differences in recycling rates across municipalities?", "sustainability"),
    ("Determine the effect of algorithmic trading on market volatility", "finance"),
    ("Why do some product batches have higher defect rates?", "manufacturing"),
    ("Analyze the impact of transit accessibility on property prices", "finance"),
    ("What is the causal effect of exercise on blood pressure reduction?", "healthcare"),
    ("Determine why certain API endpoints have higher error rates", "technology"),
    ("Analyze the effect of reforestation on carbon sequestration rates", "sustainability"),
    ("What factors predict successful outcomes in knee replacement surgery?", "healthcare"),
    ("Determine the optimal maintenance schedule based on failure patterns", "manufacturing"),
    ("Analyze the impact of digital payments on financial inclusion", "finance"),
    ("What explains the correlation between education spending and GDP growth?", "education"),
]

# ── Complex domain: uncertain, emergent, Bayesian ────────────────────────

COMPLEX_QUERIES = [
    ("Will the market recover after the currency crisis? What probes should we run?", "finance"),
    ("How might climate change affect crop yields over the next decade?", "sustainability"),
    ("What is the likelihood of a successful digital transformation given our current state?", "technology"),
    ("How should we update our beliefs about customer preferences after the survey?", "retail"),
    ("What is the probability of a supply chain disruption in the next 6 months?", "supply_chain"),
    ("How might emerging regulations affect our business model?", "compliance"),
    ("What are the possible outcomes of entering the Chinese market?", "finance"),
    ("How should we explore the impact of AI on our workforce planning?", "hr"),
    ("What safe-to-fail experiments could we design to test this strategy?", "operations"),
    ("How might gene therapy adoption evolve over the next 5 years?", "healthcare"),
    ("What is the probability distribution of demand for our new product?", "retail"),
    ("How should we update our risk model given the recent geopolitical events?", "finance"),
    ("What are the emergent patterns in our customer behavior data?", "retail"),
    ("How might quantum computing affect our encryption strategy?", "technology"),
    ("What probes should we design to understand this new market segment?", "retail"),
    ("How should we navigate the uncertainty around Brexit trade impacts?", "supply_chain"),
    ("What experiments would help us understand the adoption curve for this technology?", "technology"),
    ("How might demographic shifts affect healthcare demand in rural areas?", "healthcare"),
    ("What is our belief about the effectiveness of this new intervention?", "healthcare"),
    ("How should we explore the relationship between social media and brand loyalty?", "retail"),
    ("What are the possible failure modes of our new energy storage system?", "energy"),
    ("How uncertain are we about the long-term effects of this policy change?", "compliance"),
    ("What leading indicators might signal a regime change in our market?", "finance"),
    ("How should we adaptively manage this ecosystem restoration project?", "sustainability"),
    ("What is the probability of achieving our emissions reduction targets?", "sustainability"),
    ("How might autonomous vehicles disrupt our logistics operations?", "logistics"),
    ("What experiments should we run to validate our growth hypothesis?", "finance"),
    ("How should we update our pandemic preparedness plan given new variants?", "healthcare"),
    ("What is the uncertain impact of remote work on long-term innovation?", "hr"),
    ("How should we explore potential unintended consequences of this merger?", "finance"),
    ("What probes could help us understand the talent market in Southeast Asia?", "hr"),
    ("How might changes in consumer values affect our sustainability strategy?", "sustainability"),
    ("What is our Bayesian estimate of the true defect rate given limited samples?", "manufacturing"),
    ("How should we explore the viability of hydrogen as an energy source?", "energy"),
    ("What experiments would validate our hypothesis about personalized pricing?", "retail"),
    ("How might space weather events affect our satellite communications?", "technology"),
    ("What safe-to-fail probes could we design for testing this new therapy?", "healthcare"),
    ("How should we update our beliefs about competitor strategy after their announcement?", "finance"),
    ("What are the emergent risks in our global supply chain network?", "supply_chain"),
    ("How uncertain are we about the return on our renewable energy investments?", "energy"),
    ("What adaptive management strategies suit this conservation effort?", "sustainability"),
    ("How might blockchain adoption evolve in our industry over the next 3 years?", "technology"),
    ("What is the probability of a cybersecurity breach given our current posture?", "technology"),
    ("How should we probe the unknown effects of microplastics on marine ecosystems?", "sustainability"),
    ("What experiments could reveal the true impact of our training program?", "hr"),
    ("How should we update our inflation forecast given the latest economic data?", "finance"),
    ("What are the uncertain long-term effects of this medication on elderly patients?", "healthcare"),
    ("How might CRISPR technology reshape agricultural practices?", "sustainability"),
    ("What safe-to-fail experiments would help us test this market entry strategy?", "finance"),
    ("How uncertain are we about the scalability of our current architecture?", "technology"),
    # Additional variety
    ("What Bayesian priors should we use for this clinical trial?", "healthcare"),
    ("How should we explore the non-linear effects of urbanization?", "sustainability"),
    ("What probe could test whether this intervention works in developing markets?", "finance"),
    ("How do we quantify the epistemic uncertainty in our climate models?", "sustainability"),
    ("What are the possible regime shifts in this ecosystem?", "sustainability"),
    ("How should we update our revenue forecast given conflicting signals?", "finance"),
    ("What adaptive strategies suit a market with high Knightian uncertainty?", "finance"),
    ("How might ocean acidification affect fisheries production?", "sustainability"),
    ("What experiments should we design to test our new drug formulation?", "healthcare"),
    ("How uncertain is the impact of social determinants on health outcomes?", "healthcare"),
    ("What probes could help us understand changing consumer dietary preferences?", "retail"),
    ("How should we navigate uncertainty about future energy storage costs?", "energy"),
    ("What is our posterior belief about the conversion rate after 500 trials?", "technology"),
    ("How might permafrost thawing create feedback loops in our climate model?", "sustainability"),
    ("What adaptive experiments could reveal the true ROI of employee wellness?", "hr"),
    ("How do we probe whether this new material is viable for mass production?", "manufacturing"),
    ("What are the uncertain dynamics of viral content spread?", "technology"),
    ("How should we update our beliefs about this drug's efficacy given new trial data?", "healthcare"),
    ("What adaptive management approach fits this urban rewilding project?", "sustainability"),
    ("How uncertain are we about the future price trajectory of lithium?", "energy"),
    ("What experiments test the hypothesis that gamification improves learning?", "education"),
    # Additional to reach 100+
    ("How might the transition to electric vehicles affect oil demand uncertainty?", "energy"),
    ("What is our Bayesian estimate of the true failure rate from 20 samples?", "manufacturing"),
    ("How should we explore the impact of cultural differences on merger integration?", "finance"),
    ("What probes could test whether this soil remediation approach works?", "sustainability"),
    ("How uncertain are we about the long-term effects of screen time on children?", "healthcare"),
    ("What experiments might reveal hidden patterns in customer churn?", "retail"),
    ("How should we update our prior beliefs about market entry success rates?", "finance"),
    ("What adaptive strategy would work for managing an evolving pandemic response?", "healthcare"),
    ("How might quantum sensors change environmental monitoring approaches?", "sustainability"),
    ("What safe-to-fail probes could we design for this novel business model?", "finance"),
    ("How uncertain is the projected ROI for our AI initiative?", "technology"),
    ("What leading indicators should we monitor for an economic downturn?", "finance"),
    ("How should we explore the unpredictable effects of gene drives on ecosystems?", "sustainability"),
    ("What adaptive experiments could test the viability of vertical farming?", "sustainability"),
    ("How do we quantify our uncertainty about competitor actions?", "finance"),
    ("What probes might reveal the true demand elasticity for our premium tier?", "retail"),
    ("How might changing demographics affect pension fund sustainability?", "finance"),
    ("What Bayesian model should we use for this rare event prediction?", "technology"),
    ("How uncertain are we about the safety profile of this nanomaterial?", "manufacturing"),
    ("What experiments should we run to probe the viability of fusion energy?", "energy"),
    ("How should we navigate the unknown long-term impacts of PFAS regulation?", "compliance"),
    ("What probes would help quantify the rebound effect of energy efficiency?", "energy"),
    ("How do we update our risk models for emerging threats we haven't seen before?", "finance"),
    ("What experiments could reduce our uncertainty about this supply chain route?", "supply_chain"),
    ("How might antibiotic resistance patterns evolve in the next decade?", "healthcare"),
    ("What safe-to-fail experiments could test our decarbonization strategy?", "sustainability"),
    ("How uncertain is the projected timeline for commercial quantum computing?", "technology"),
    ("What probes could help us understand the true impact of our CSR programs?", "sustainability"),
    ("How should we explore the emerging dynamics of the circular economy?", "sustainability"),
    ("What adaptive approach is suitable for navigating geopolitical trade uncertainty?", "supply_chain"),
]

# ── Chaotic domain: crisis, emergency, urgent ────────────────────────────

CHAOTIC_QUERIES = [
    ("URGENT: Massive data breach detected — all customer records exposed", "technology"),
    ("EMERGENCY: Chemical spill in manufacturing facility, evacuation in progress", "manufacturing"),
    ("CRITICAL: Stock price crashed 40% in 5 minutes, trading halted", "finance"),
    ("ALERT: Ransomware has encrypted all production servers", "technology"),
    ("EMERGENCY: Hospital IT systems down, patient records inaccessible", "healthcare"),
    ("URGENT: Massive coordinated fraud — 500 suspicious transactions in 3 minutes", "finance"),
    ("CRITICAL: Pipeline rupture detected, environmental contamination imminent", "energy"),
    ("EMERGENCY: Power grid cascade failure, 200,000 customers at risk of blackout", "energy"),
    ("ALERT: Food contamination detected in shipped products, recall needed immediately", "manufacturing"),
    ("CRITICAL: Aircraft systems failure mid-flight, emergency protocols needed NOW", "logistics"),
    ("URGENT: Multiple building evacuations due to gas leak in city center", "operations"),
    ("EMERGENCY: Dam integrity compromised, downstream flooding imminent", "energy"),
    ("CRITICAL: Nuclear reactor cooling system malfunction, containment needed", "energy"),
    ("ALERT: Cyberattack on financial infrastructure, transactions frozen", "finance"),
    ("URGENT: Earthquake detected near data center, failover required immediately", "technology"),
    ("EMERGENCY: Mass casualty event, hospital surge capacity exceeded", "healthcare"),
    ("CRITICAL: Entire supply chain halted due to port closure from natural disaster", "supply_chain"),
    ("ALERT: Unauthorized access to classified government systems detected", "technology"),
    ("URGENT: Bridge structural failure imminent, immediate closure needed", "operations"),
    ("EMERGENCY: Toxic gas release from industrial plant, shelter-in-place ordered", "manufacturing"),
    ("CRITICAL: Central bank system failure, interbank transfers frozen", "finance"),
    ("ALERT: Wildfire approaching server farm, 15 minutes to evacuate", "technology"),
    ("URGENT: Active shooter situation at corporate headquarters", "operations"),
    ("EMERGENCY: Submarine cable severed, internet connectivity lost for entire region", "technology"),
    ("CRITICAL: Vaccine cold chain failure, 1 million doses at risk", "healthcare"),
    ("ALERT: Flood waters rising at power plant, generators must be shut down", "energy"),
    ("URGENT: Train derailment with hazardous materials, evacuation zone expanding", "logistics"),
    ("EMERGENCY: Multiple simultaneous DDoS attacks on all public-facing services", "technology"),
    ("CRITICAL: Blood supply contamination detected at regional blood bank", "healthcare"),
    ("ALERT: Volcanic eruption affecting air traffic across 5 countries", "logistics"),
    # Additional variety
    ("URGENT: Structural collapse at construction site, workers trapped", "operations"),
    ("EMERGENCY: Pandemic variant detected with vaccine resistance, rapid response needed", "healthcare"),
    ("CRITICAL: Complete loss of satellite navigation systems, air traffic grounded", "logistics"),
    ("ALERT: Flash crash across all cryptocurrency exchanges simultaneously", "finance"),
    ("URGENT: Water treatment plant contamination, boil notice for 500,000 residents", "operations"),
    ("EMERGENCY: Solar storm damaging power grid transformers across the continent", "energy"),
    ("CRITICAL: Massive oil tanker collision in shipping lane, spill spreading", "sustainability"),
    ("ALERT: Zero-day exploit actively being used against our authentication system", "technology"),
    ("URGENT: Factory robot malfunction injuring workers, production line emergency stop", "manufacturing"),
    ("EMERGENCY: Tsunami warning for coastal data centers, immediate action required", "technology"),
    ("CRITICAL: Drone swarm detected near airport, all flights diverted", "logistics"),
    ("ALERT: Simultaneous failure of primary and backup power at hospital", "healthcare"),
    ("URGENT: Levee breach detected, emergency flood response needed", "operations"),
    ("EMERGENCY: Chemical weapon traces detected at public event venue", "operations"),
    ("CRITICAL: Telecommunications network collapse in major metropolitan area", "technology"),
    ("ALERT: Meteor impact imminent in populated area, evacuation order issued", "operations"),
    ("URGENT: Mass food poisoning outbreak traced to our products", "manufacturing"),
    ("EMERGENCY: Avalanche blocking major highway, hundreds of vehicles stranded", "operations"),
    ("CRITICAL: Sewage system overflow contaminating drinking water reservoirs", "operations"),
    ("ALERT: Explosion at chemical storage facility, toxic cloud forming", "manufacturing"),
]

# ── Disorder domain: ambiguous, contradictory, unclassifiable ────────────

DISORDER_QUERIES = [
    ("Should we do something different?", "general"),
    ("Things aren't working well", "general"),
    ("Help", "general"),
    ("What should we do?", "general"),
    ("Is this good or bad?", "general"),
    ("We need to maximize growth while minimizing all investment and reduce risk to zero while entering new markets", "general"),
    ("Fix everything", "general"),
    ("Make it better", "general"),
    ("I don't know what to ask", "general"),
    ("Do the thing with the data", "general"),
    ("Can you figure out what's wrong with everything?", "general"),
    ("We need a strategy but we don't know what kind", "general"),
    ("What are the implications?", "general"),
    ("Should we or shouldn't we?", "general"),
    ("Analyze", "general"),
    ("The situation is complicated or maybe complex or possibly chaotic", "general"),
    ("We want to both increase and decrease spending simultaneously", "general"),
    ("Make our product more expensive AND cheaper at the same time", "general"),
    ("Do something about sustainability but don't change anything", "general"),
    ("Tell me something useful", "general"),
    ("Our stakeholders want contradictory outcomes and we need to satisfy everyone", "general"),
    ("Implement the strategy we haven't defined yet", "general"),
    ("What is the answer to our question?", "general"),
    ("Guarantee success in an unpredictable market with no data", "general"),
    ("We need to move fast but also be very careful and thorough", "general"),
    ("How do we solve the problem?", "general"),
    ("Provide recommendations without knowing our context", "general"),
    ("Yes or no?", "general"),
    ("What's the right approach when we don't know what we're approaching?", "general"),
    ("Resolve all our issues without understanding them first", "general"),
    ("We need to increase revenue and decrease prices and reduce staff and improve service all at once", "general"),
    ("Predict the future accurately", "general"),
    ("Apply best practices without knowing what we're doing", "general"),
    ("Make it work somehow", "general"),
    ("What about the other thing?", "general"),
    ("Optimize without constraints or objectives", "general"),
    ("We want the impossible: zero defects with zero investment", "general"),
    ("Give us certainty about uncertain things", "general"),
    ("Plan for all possible scenarios simultaneously", "general"),
    ("Our CEO and CFO disagree on everything and we need a solution that makes both happy", "general"),
    ("Build something but we don't know what", "general"),
    ("Find the root cause without any data or symptoms described", "general"),
    ("We need AI to solve our undefined problem", "general"),
    ("How do we compete while also collaborating with all competitors?", "general"),
    ("Guarantee no risk while maximizing returns", "finance"),
    ("Which direction should we go when all paths seem equally unclear?", "general"),
    ("Prevent all possible problems before they happen", "general"),
    ("Make the numbers go up", "general"),
    ("Transform our business without changing it", "general"),
    ("Solve climate change for our company without any budget", "sustainability"),
    # Additional variety
    ("What?", "general"),
    ("Stuff", "general"),
    ("Run analysis", "general"),
    ("Can you just handle it?", "general"),
    ("We need everything to be perfect immediately", "general"),
    ("What does the data say about the thing?", "general"),
    ("Our board wants a complete reversal of strategy while maintaining current strategy", "general"),
    ("Improve all metrics simultaneously without tradeoffs", "general"),
    ("Be innovative but don't take any risks or change anything", "general"),
    ("Give me the answer before I ask the question", "general"),
    ("We need to both expand and contract operations at the same time", "general"),
    ("Achieve 100% customer satisfaction with 0% effort", "general"),
    ("Predict black swan events with certainty", "finance"),
    ("Automate everything but keep everything manual", "technology"),
    ("Eliminate all costs while increasing all spending", "finance"),
    ("Move to the cloud and stay on-premise simultaneously", "technology"),
    ("Hire everyone and fire everyone at the same time", "hr"),
    ("Increase prices and decrease prices for the same products", "retail"),
    ("Speed up delivery while adding more quality checks at every step", "supply_chain"),
    ("Make our product both simpler and more feature-rich simultaneously", "technology"),
    ("Centralize and decentralize decision-making at the same time", "operations"),
    ("Use more data but also use less data", "technology"),
    ("Go global and stay local", "operations"),
    ("Standardize and customize everything simultaneously", "manufacturing"),
    ("Be first to market and avoid all early-mover risks", "technology"),
    ("Reduce complexity by adding more processes", "operations"),
    ("Focus on everything at once", "general"),
    ("Make our AI both transparent and proprietary secret", "technology"),
    ("Increase diversity while hiring only from one source", "hr"),
    ("Be sustainable while maximizing short-term extraction", "sustainability"),
    ("Create value without investing resources", "finance"),
    ("Open-source our competitive advantage", "technology"),
    ("What happens if something happens?", "general"),
    ("Do more with less while doing less with more", "general"),
    ("Prevent future risks that we can't identify", "general"),
    ("Align all stakeholders who fundamentally disagree", "general"),
    ("Provide a definitive answer to an undefined question", "general"),
    ("Revolutionize our industry without any innovation budget", "general"),
    ("Make data-driven decisions without collecting data", "general"),
    ("Achieve consensus among parties with mutually exclusive goals", "general"),
    ("Lead the market while following all competitors", "general"),
    ("Disrupt ourselves without any disruption", "general"),
    ("Solve the problem we haven't identified yet", "general"),
    ("Decrease time-to-market while increasing all review cycles", "technology"),
    ("Be agile and follow a strict waterfall process", "technology"),
    ("Cut emissions to zero while increasing production capacity", "sustainability"),
    ("Comply with contradictory regulations from different jurisdictions", "compliance"),
    ("Achieve zero downtime during a complete system replacement", "technology"),
    ("Satisfy both pro-growth and anti-growth stakeholders equally", "general"),
    ("Maintain legacy systems while fully modernizing", "technology"),
    ("Build trust through complete transparency while protecting all secrets", "operations"),
    ("Minimize environmental impact while maximizing resource extraction", "sustainability"),
]


def generate_test_set(output_path: Path) -> int:
    """Generate the full test set JSONL file."""
    all_queries = []

    for query, industry in CLEAR_QUERIES:
        all_queries.append({"query": query, "domain": "clear", "industry": industry, "confidence": 1.0})

    for query, industry in COMPLICATED_QUERIES:
        all_queries.append({"query": query, "domain": "complicated", "industry": industry, "confidence": 0.9})

    for query, industry in COMPLEX_QUERIES:
        all_queries.append({"query": query, "domain": "complex", "industry": industry, "confidence": 0.85})

    for query, industry in CHAOTIC_QUERIES:
        all_queries.append({"query": query, "domain": "chaotic", "industry": industry, "confidence": 0.95})

    for query, industry in DISORDER_QUERIES:
        all_queries.append({"query": query, "domain": "disorder", "industry": industry, "confidence": 0.7})

    output_path.parent.mkdir(parents=True, exist_ok=True)
    with open(output_path, "w") as f:
        for item in all_queries:
            f.write(json.dumps(item) + "\n")

    # Print distribution summary
    from collections import Counter
    dist = Counter(q["domain"] for q in all_queries)
    print(f"Generated {len(all_queries)} labeled queries:")
    for domain in ["clear", "complicated", "complex", "chaotic", "disorder"]:
        print(f"  {domain:>12}: {dist[domain]}")
    print(f"\nOutput: {output_path}")

    return len(all_queries)


def main():
    parser = argparse.ArgumentParser(description="Generate Cynefin router benchmark test set")
    parser.add_argument(
        "--output",
        type=Path,
        default=Path(__file__).parent / "test_set.jsonl",
        help="Output JSONL file path",
    )
    args = parser.parse_args()
    generate_test_set(args.output)


if __name__ == "__main__":
    main()
